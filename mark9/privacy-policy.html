<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - Malaysia Proptech Association</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <img src="assets/mpa-logo.png" alt="Malaysia Proptech Association" class="logo-img">
                </a>
            </div>
            <div class="nav-menu">
                <a href="proptech.html" class="nav-link">Property Technology</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="members.html" class="nav-link">Members</a>
                <a href="events.html" class="nav-link">Events</a>
                <a href="news.html" class="nav-link">News & Resource</a>
                <a href="partners.html" class="nav-link">Partners</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </div>
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle">
                    <span class="theme-icon">ðŸŒ™</span>
                    <span class="auto-indicator" id="autoIndicator" title="Auto mode active">ðŸ”„</span>
                </button>
                <div class="language-dropdown">
                    <button class="language-toggle" id="languageToggle">
                        <span class="current-language">EN</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="language-menu" id="languageMenu">
                        <button class="language-option" data-lang="en">
                            <span class="flag">ðŸ‡ºðŸ‡¸</span>
                            <span>English</span>
                        </button>
                        <button class="language-option" data-lang="bm">
                            <span class="flag">ðŸ‡²ðŸ‡¾</span>
                            <span>Bahasa Malaysia</span>
                        </button>
                        <button class="language-option" data-lang="cn">
                            <span class="flag">ðŸ‡¨ðŸ‡³</span>
                            <span>ä¸­æ–‡</span>
                        </button>
                    </div>
                </div>
                <a href="signin.html" class="btn-secondary desktop-only">Sign In</a>
                <button class="btn-primary desktop-only">Join MPA</button>
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Dropdown Menu -->
    <div class="mobile-dropdown-menu" id="mobileDropdownMenu">
        <nav class="mobile-dropdown-nav">
            <a href="proptech.html" class="mobile-dropdown-link">
                <i class="fas fa-microchip"></i>
                <span>Property Technology</span>
            </a>
            <a href="about.html" class="mobile-dropdown-link">
                <i class="fas fa-info-circle"></i>
                <span>About</span>
            </a>
            <a href="members.html" class="mobile-dropdown-link">
                <i class="fas fa-users"></i>
                <span>Members</span>
            </a>
            <a href="events.html" class="mobile-dropdown-link">
                <i class="fas fa-calendar-alt"></i>
                <span>Events</span>
            </a>
            <a href="news.html" class="mobile-dropdown-link">
                <i class="fas fa-newspaper"></i>
                <span>News & Resource</span>
            </a>
            <a href="partners.html" class="mobile-dropdown-link">
                <i class="fas fa-handshake"></i>
                <span>Partners</span>
            </a>
            <a href="contact.html" class="mobile-dropdown-link">
                <i class="fas fa-envelope"></i>
                <span>Contact</span>
            </a>
            
            <div class="mobile-language-selector">
                <span class="mobile-language-label">Language:</span>
                <div class="mobile-language-options">
                    <button class="mobile-language-option active" data-lang="en">EN</button>
                    <button class="mobile-language-option" data-lang="bm">BM</button>
                    <button class="mobile-language-option" data-lang="cn">CN</button>
                </div>
            </div>
            
            <a href="signin.html" class="btn-secondary mobile-only">Sign In</a>
            <button class="btn-primary mobile-only">Join MPA</button>
        </nav>
    </div>

    <!-- Hero Section -->
    <section class="page-hero">
        <div class="container">
            <div class="hero-content">
                <h1 data-translate="privacy-title">Privacy Policy</h1>
                <p data-translate="privacy-subtitle">Protecting your personal data and ensuring transparency in how we handle your information</p>
            </div>
            <div class="hero-image">
                <img src="https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg?w=600&h=400&fit=crop&crop=center" alt="Privacy Policy">
            </div>
        </div>
    </section>

    <!-- Privacy Policy Content -->
    <section class="privacy-content">


        <!-- PDF Display -->
        <div class="pdf-container">
            <iframe 
                id="pdfViewer"
                src="pdfjs/web/viewer.html?file=MPA%20-%20Privacy%20Policy%20-%20English.pdf" 
                width="100%" 
                height="800px" 
                frameborder="0"
                title="Privacy Policy">
            </iframe>
        </div>

        <!-- Download Section -->
        <div class="container">
            <div class="download-section">
                <h3 data-translate="download-policy">Download Privacy Policy</h3>
                <p data-translate="download-description">Download the privacy policy in your preferred language</p>
                <div class="download-buttons">
                    <a href="MPA%20-%20Privacy%20Policy%20-%20English.pdf" class="btn-outline" download>
                        <i class="fas fa-download"></i>
                        <span data-translate="download-english">English PDF</span>
                    </a>
                    <a href="MPA%20-%20Privacy%20Policy%20-%20Bahasa.pdf" class="btn-outline" download>
                        <i class="fas fa-download"></i>
                        <span data-translate="download-bahasa">Bahasa Malaysia PDF</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Cookie Consent Banner -->
    <div class="cookie-banner" id="cookieBanner">
        <div class="container">
            <div class="cookie-content">
                <div class="cookie-text">
                    <h4 data-translate="cookie-title">Cookie & Privacy Notice</h4>
                    <p data-translate="cookie-text">We use cookies and similar technologies to enhance your browsing experience, analyze site traffic, and personalize content. By continuing to use our website, you consent to our use of cookies in accordance with our Privacy Policy.</p>
                </div>
                <div class="cookie-actions">
                    <button class="btn-primary" id="acceptCookies" data-translate="accept-cookies">Accept All</button>
                    <button class="btn-outline" id="rejectCookies" data-translate="reject-cookies">Reject</button>
                    <a href="privacy-policy.html" class="btn-outline" data-translate="learn-more">Learn More</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MPA</h3>
                    <p>Malaysia's leading PropTech community driving innovation in real estate technology.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="membership.html">Membership</a></li>
                        <li><a href="events.html">Events</a></li>
                        <li><a href="news.html">News</a></li>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <ul>
                        <li><i class="fas fa-envelope"></i> info@proptech.org.my</li>
                        <li><i class="fas fa-phone"></i> +60 11 322 44 56</li>
                        <li><i class="fas fa-map-marker-alt"></i> 53A, Jalan Kenari 21, Bandar Puchong Jaya, 47100 Puchong, Selangor</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Malaysia Proptech Association. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="js/components.js"></script>
    <script>
        // Privacy Policy specific functionality
        document.addEventListener('DOMContentLoaded', function() {
            const pdfViewer = document.getElementById('pdfViewer');

            // Function to update PDF based on language
            window.updatePrivacyPolicyPDF = function(lang) {
                console.log('updatePrivacyPolicyPDF called with lang:', lang); // Debug
                
                let pdfFile;
                
                if (lang === 'bm') {
                    pdfFile = 'MPA%20-%20Privacy%20Policy%20-%20Bahasa.pdf';
                } else {
                    // Default to English for 'en' and 'cn'
                    pdfFile = 'MPA%20-%20Privacy%20Policy%20-%20English.pdf';
                }
                
                // Update PDF viewer with PDF.js - use relative URL and force reload
                const timestamp = new Date().getTime(); // Add timestamp to prevent caching
                const newSrc = `pdfjs/web/viewer.html?file=${pdfFile}&t=${timestamp}`;
                
                console.log('Loading PDF:', newSrc); // Debug
                
                // Force reload by setting src to empty first
                pdfViewer.src = '';
                setTimeout(() => {
                    pdfViewer.src = newSrc;
                }, 100);
            };

            // Override the default language selection for privacy policy page
            const originalSelectLanguage = window.selectLanguage;
            window.selectLanguage = function(lang) {
                // Call original function for navigation and other translations
                if (originalSelectLanguage) {
                    originalSelectLanguage(lang);
                }
                
                // Update PDF for privacy policy page
                updatePrivacyPolicyPDF(lang);
            };

            // Initialize with current language (no notice)
            const currentLang = localStorage.getItem('selectedLanguage') || 'en';
            updatePrivacyPolicyPDF(currentLang);

            // Cookie Banner
            const cookieBanner = document.getElementById('cookieBanner');
            const acceptCookies = document.getElementById('acceptCookies');
            const rejectCookies = document.getElementById('rejectCookies');

            // Check if user has already made a choice
            const cookieChoice = localStorage.getItem('cookieChoice');
            if (cookieChoice) {
                cookieBanner.style.display = 'none';
            }

            acceptCookies.addEventListener('click', function() {
                localStorage.setItem('cookieChoice', 'accepted');
                cookieBanner.style.display = 'none';
                showNotification('Cookie preferences saved. Thank you!', 'success');
            });

            rejectCookies.addEventListener('click', function() {
                localStorage.setItem('cookieChoice', 'rejected');
                cookieBanner.style.display = 'none';
                showNotification('Cookie preferences saved. Some features may be limited.', 'info');
            });
        });
    </script>
</body>
</html>
